<%= turbo_frame_tag "contact_form" do %>
  <%= form_with(model: contact, url: create_message_path, class: "space-y-6") do |form| %>
    <%= form.hidden_field :website, value: "", class: "hidden" %>
    <%= form.hidden_field :submitted_at, value: Time.current.to_i %>

    <div>
      <%= form.label :name, "Your Name", class: "block text-gray-300 mb-2" %>
      <%= form.text_field :name, 
          class: "w-full px-4 py-2 rounded bg-gray-600 border border-gray-500 text-white focus:outline-none focus:border-cyan-400 #{'border-red-500' if contact&.errors&.include?(:name)}" %>
      <% if contact&.errors&.include?(:name) %>
        <p class="mt-1 text-red-500 text-sm"><%= contact.errors[:name].join(', ') %></p>
      <% end %>
    </div>

    <div>
      <%= form.label :email, "Your Email", class: "block text-gray-300 mb-2" %>
      <%= form.email_field :email, 
          class: "w-full px-4 py-2 rounded bg-gray-600 border border-gray-500 text-white focus:outline-none focus:border-cyan-400 #{'border-red-500' if contact&.errors&.include?(:email)}" %>
      <% if contact&.errors&.include?(:email) %>
        <p class="mt-1 text-red-500 text-sm"><%= contact.errors[:email].join(', ') %></p>
      <% end %>
    </div>

    <div>
      <%= form.label :subject, "Subject", class: "block text-gray-300 mb-2" %>
      <%= form.text_field :subject, 
          class: "w-full px-4 py-2 rounded bg-gray-600 border border-gray-500 text-white focus:outline-none focus:border-cyan-400 #{'border-red-500' if contact&.errors&.include?(:subject)}" %>
      <% if contact&.errors&.include?(:subject) %>
        <p class="mt-1 text-red-500 text-sm"><%= contact.errors[:subject].join(', ') %></p>
      <% end %>
    </div>

    <div>
      <%= form.label :message, "Message", class: "block text-gray-300 mb-2" %>
      <%= form.text_area :message, rows: 4, 
          class: "w-full px-4 py-2 rounded bg-gray-600 border border-gray-500 text-white focus:outline-none focus:border-cyan-400 #{'border-red-500' if contact&.errors&.include?(:message)}" %>
      <% if contact&.errors&.include?(:message) %>
        <p class="mt-1 text-red-500 text-sm"><%= contact.errors[:message].join(', ') %></p>
      <% end %>
    </div>

    <%= form.submit "Send Message", 
        class: "w-full bg-cyan-500 hover:bg-cyan-600 text-white font-bold py-2 px-4 rounded transition-colors cursor-pointer" %>
  <% end %>
<% end %> 